!function(){var t=function(t){return self._wb_wombat&&self._wb_wombat.local_init&&self._wb_wombat.local_init(t)||self[t]};self.__WB_pmw||(self.__WB_pmw=function(t){return this.__WB_source=t,this});{let W=t("window");t("self"),t("document"),t("location"),t("top"),t("parent"),t("frames"),t("opener");var e="1.13.2";W.__YAVER_LA_PATCH__="v2-check-001";var o,i,a="https://yasinenes92.github.io/yaver-LA/",r="https://yasinenes92.github.io/yaver-LA/",l=!1,n=!1,p=!0,s=!1,c=!1,d=[],u=D(),h="";"0"!=W.top.game_data.player.sitter&&(h="t="+W.top.game_data.player.id+"&");var f,g=["https://"+W.location.host+"/game.php?"+h+"village=","&screen=am_farm"];var v={start_page:0,end_page:1,order_by:2,direction:3,all_none:4,blue:5,green:6,yellow:7,red_yellow:8,red_blue:9,red:10,hide_recent_farms:11,sent_time_filter:12,hide_recent_time:13,enable_hauls:14,full:15,partial:16,enable_attacks:17,attack_operator:18,attack_value:19,enable_walls:20,wall_operator:21,wall_value:22,enable_distances:23,distance_operator:24,distance_value:25,enable_scout:26,scout_report_operator:27,haul_value:28,continent_display:29,continents_list:30,enable_time:31,attack_time_filter:32,time_value:33,enable_auto_run:34,next_village_no_farms:35,next_village_scouts:36,scouts_left:37,next_village_farming_troops:38,farming_troops_left:39,next_village_units:40},b={a:65,b:66,c:67,skip:83,right:39,left:37,master:77},y={a_code:65,a_char:"A",b_code:66,b_char:"B",c_code:67,c_char:"C",master_code:77,master_char:"M",skip_code:83,skip_char:"S",left_code:37,left_char:"\xc3\xa2\xe2\u20ac \xc2\x90",right_code:39,right_char:"\xc3\xa2\xe2\u20ac \xe2\u20ac\u2122",priorityOneEnabled:!0,priorityOneProfile:"Default",priorityOneButton:"Skip",priorityTwoEnabled:!0,priorityTwoProfile:"Default",priorityTwoButton:"Skip",priorityThreeEnabled:!0,priorityThreeProfile:"Default",priorityThreeButton:"Skip",defaultButton:"Skip"},m=["en","es","el","ar","it"];function k(){console.log("run"),function(){if(x()!=e){buttons=[{text:"OK",callback:null,confirm:!0}],Dialog.show("update_dialog","This script has recently been updated to version <span style='font-weight:bold;'>"+e+"</span><br /><br/><a href='"+r+"' target='_blank'>See what's new</a>.</br>I removed the difference between the original and the Alt version of the script. Both are now equally fast and even faster than either script was before. Should you  enounter any issues, please contact me on the forum! </br></br>Enjoy!</br>Ibra Gonza II")}}(),function(){var t=W.top.$.jStorage.get("working");null==t&&W.top.$.jStorage.set("working",!1);x()!=e&&W.top.$.jStorage.set("working",!1);0}(),w(),W.top.$(".row_a").css("background-color","rgb(216, 255, 216)"),W.top.$("#plunder_list tr").eq(0).remove(),W.top.$("#plunder_list").find("tr:gt(0)").each(function(t){W.top.$(this).removeClass("row_a"),W.top.$(this).removeClass("row_b"),t%2==0?W.top.$(this).addClass("row_a"):W.top.$(this).addClass("row_b")}),W.top.$("#plunder_list").hide(),W.top.$("#plunder_list_nav").hide(),W.top.$("#contentContainer").find('div[class="vis"]').eq(0).children().eq(0).append(W.top.$("<div class='vis' style='float:right;text-align:center;line-height:100%;width:12px;height:12px;margin:0px 0px 0px 0px;position:relative;background-color:tan;opacity:.7'><a href='#' num='0' onclick='uglyHider(window.top.$(this));return false;'>+</a></div>")),W.top.$("#contentContainer").find('div[class="vis"]').eq(0).children().eq(1).hide(),W.top.$("#am_widget_Farm").find("h4").eq(0).append(W.top.$("<div class='vis' style='float:right;text-align:center;line-height:100%;width:12px;height:12px;margin:0px 0px 0px 0px;position:relative;background-color:tan;opacity:.7'><a href='#' num='1' onclick='uglyHider(window.top.$(this));return false;'>+</a></div>")),W.top.$("#plunder_list_filters").hide(),console.log("makeItPretty"),I(),K(),W.top.$("#settingsBody tr:lt(9) input,#settingsBody tr:lt(9) select").focusin(function(){W.onkeydown=function(){}}),W.top.$("#settingsBody tr:lt(9) input,#settingsBody tr:lt(9) select").focusout(function(){K()}),0!=f[v.enable_auto_run]&&j()}function w(){W.top.$.jStorage.set("version",e)}function x(){var t=W.top.$.jStorage.get("version");return null==t?(w(),e):t}function T(){var t=W.top.$.trim(W.top.$("#plunder_list_nav tr:first td:last").children().last().html().replace(/\D+/g,""));"max"==W.top.$("#end_page").val()&&W.top.$("#end_page").text(t),W.top.$("#am_widget_Farm tr:last").remove(),t>parseInt(W.top.$("#end_page").val(),10)&&(t=parseInt(W.top.$("#end_page").val(),10)),setTimeout(function(){S(parseInt(W.top.$("#start_page").val(),10)-1,t)},1)}function S(t,e){if(t<e){E(filter_41+" "+(t+1)+"/"+e+" <img src='graphic/throbber.gif' height='24' width='24'></img>");var o=g[0]+W.top.game_data.village.id+"&order="+f[v.order_by]+"&dir="+f[v.direction]+"&Farm_page="+t+"&screen=am_farm";W.top.$.ajax({type:"GET",url:o,dataType:"html",error:function(t,e,o){console.log("Get page failed with error: "+o)},success:function(o){W.top.$("#plunder_list tr",o).slice(2).each(function(){W.top.$("#plunder_list tr:last").after("<tr>"+W.top.$(this).html()+"</tr>")}),setTimeout(function(){S(t+1,e)},1)}})}else setTimeout(function(){W.top.$("#am_widget_Farm tr th").slice(0,1).after("<th></th>"),W.top.$("#am_widget_Farm tr:not(:first-child)").each(function(t){W.top.$(this).children("td").each(function(e){switch(e){case 1:W.top.$(this).filter(":first").before("<td style='width:10px;font-weight:bold;' id='rowNum'>"+(t+1)+"</td>");break;case 3:var o=W.top.$(this).find("img"),i=W.top.$(this).find("img").prop("tooltipText");if(void 0!==i){var a=i.replace(/\D/g,"");o.after("<span style='font-weight:bold;'> ("+a+")</span>")}break;case 8:case 9:case 10:O(W.top.$(this))}})}),B(),E(filter_40),W.top.$("#am_widget_Farm table").each(function(){W.top.$("tr:even:gt(0) td",this).not("table:first").css("backgroundColor","#FFF5DA"),W.top.$("tr:odd:gt(0) td",this).not("table:first").css("backgroundColor","#F0E2BE")})},1),W.top.$("#plunder_list").show(),W.top.Accountmanager.initTooltips(),l=!0,p=!0}function E(t){W.top.$("h3:first").html(t)}function P(t){"n"==t?W.top.UI.InfoMessage("Switching to next village...",500):W.top.UI.InfoMessage("Switching to previous village...",500),W.onkeydown=function(){},p=!1,n=!1,Timing.pause(),H(),V();var e=g[0]+t+W.top.game_data.village.id+g[1];W.top.$.ajax({type:"GET",url:e,dataType:"html",error:function(t,e){alert("Error: "+e),W.top.$("#fader").remove(),W.top.$("#loaders").remove()},success:function(t){var e=W.top.$(t),o=/<\s*title\s*>([^<]+)<\/title\s*>/g.exec(t)[1],i=W.top.$.parseJSON(t.split("TribalWars.updateGameData(")[1].split(");")[0]);W.top.game_data=i,"undefined"!=typeof history&&"function"==typeof history.pushState&&history.pushState({},W.top.game_data.village.name+" - Loot Assistant","https://"+W.top.location.host+game_data.link_base_pure+"am_farm"),W.top.$("#header_info").html(W.top.$("#header_info",e).html()),W.top.$("#topContainer").html(W.top.$("#topContainer",e).html()),W.top.$("#contentContainer").html(W.top.$("#contentContainer",e).html()),W.top.$("#quickbar_inner").html(W.top.$("#quickbar_inner",e).html()),W.top.$("head").find("title").html(o),W.top.$("#fader").remove(),W.top.$("#loaders").remove(),Timing.resetTickHandlers(),Timing.pause(),l=!1,p=!1,k()}})}function I(){W.top.$("head").append("<link type='text/css' rel='stylesheet' href='"+a+"css/style.css' />"),W.top.$("#contentContainer h3").eq(0).after(W.top.$("<div class='vis'id='settingsDiv'><table class='settingsTable'><thead><tr><th colspan='5'class='vis'style='padding:0px;'><h4> LA Enhancer (1.13.2) - <a href='https://web.archive.org/web/20240307223803/http://forum.tribalwars.net/showthread.php?266604-ntoombs19-s-FA-Filter'target='_blank'>"+filter_02+"</a> - "+filter_42+": <select id='language'style='margin:0px;'onchange='loadLanguage(window.top.$(&quot;#language&quot;).val())'></select><span style='font-size:10px;float:right;font-weight:normal;font-style:normal'>"+filter_03+" <a href='https://web.archive.org/web/20240307223803/http://forum.tribalwars.net/member.php?22739-ntoombs19'target='_blank'>ntoombs19</a>&nbsp;<div class='vis'style='float:right;text-align:center;line-height:100%;width:12px;height:12px;margin:0px 0px 0px 0px;position:relative;background-color:tan;opacity:.7'><a href='#'num='2'onclick='uglyHider(window.top.$(this));return false;'>-</a></div></span></h4></th></tr></thead><tbody id='settingsBody'><tr><td class='col1'style='min-width:200px'><span>"+filter_04+"</span>&nbsp;<input type='text'value=''size='2'maxlength='3'id='start_page'>&nbsp;<span>"+filter_05+"</span>&nbsp;<input type='text'value=''size='2'maxlength='3'id='end_page'></td><td colspan='3'><span style='font-weight:bold'>"+filter_06+"</span>&nbsp;<img src='graphic/questionmark.png'width='13'height='13'id='enable_help'></td><td rowspan='5'valign='top'><form><input type='checkbox'id='all_none'>&nbsp;<label for='all_none'style='font-weight:bold'>"+filter_07+"</label>&nbsp;<img src='graphic/questionmark.png'width='13'height='13'id='report_help'><br><input type='checkbox'id='blue'><label for='blue'><img src='graphic/dots/blue.png'>&nbsp;"+filter_08+"</label><br><input type='checkbox'id='green'><label for='green'><img src='graphic/dots/green.png'>&nbsp;"+filter_09+"</label><br><input type='checkbox'id='yellow'><label for='yellow'><img src='graphic/dots/yellow.png'>&nbsp;"+filter_10+"</label><br><input type='checkbox'id='red_yellow'><label for='red_yellow'><img src='graphic/dots/red_yellow.png'>&nbsp;"+filter_11+"</label><br><input type='checkbox'id='red_blue'><label for='red_blue'><img src='graphic/dots/red_blue.png'>&nbsp;"+filter_12+"</label><br><input type='checkbox'id='red'><label for='red'><img src='graphic/dots/red.png'>&nbsp;"+filter_13+"</label></form></td></tr><tr><td rowspan='2'><label for='order_by'>"+filter_14+":</label>&nbsp;<select id='order_by'val='distance'><option value='distance'>"+filter_15+"</option><option value='date'>"+filter_16+"</option></select><br><label for='direction'>"+filter_17+":</label>&nbsp;<select id='direction'val='desc'><option value='asc'>"+filter_18+"</option><option value='desc'>"+filter_19+"</option></select></td><td style='width:26px'><input type='checkbox'id='enable_hauls'></td><td style='width:110px'><label for='enable_hauls'>"+filter_20+"</label></td><td><input type='radio'name='hauls'id='full'><label for='full'><img src='graphic/max_loot/1.png'>"+filter_21+"</label>&nbsp;<input type='radio'name='hauls'id='partial'><label for='partial'><img src='graphic/max_loot/0.png'>"+filter_22+"</label></td></tr><tr><td><input type='checkbox'id='enable_attacks'></td><td><label for='enable_attacks'>"+filter_23+"</label></td><td><select id='attack_operator'><option value='greater_than'>"+filter_24+"</option><option value='less_than'>"+filter_25+"</option><option value='equal_to'>"+filter_26+"</option></select>&nbsp;<input type='text'id='attack_value'size='2'maxlength='2'value=''></td></tr><tr><td rowspan='1'><span style='font-weight:bold;'>"+filter_43+"</span></td><td><input type='checkbox'id='enable_walls'></td><td><label for='enable_walls'>"+filter_30+"</label></td><td><select id='wall_operator'><option value='greater_than'>"+filter_24+"</option><option value='less_than'>"+filter_25+"</option><option value='equal_to'>"+filter_26+"</option></select>&nbsp;<input type='text'id='wall_value'size='2'maxlength='2'value=''></td></tr><tr><td><input type='checkbox'id='next_village_no_farms'><label for='next_village_no_farms'>"+filter_39+"</label></td><td><input type='checkbox'id='enable_distances'></td><td><label for='enable_distances'>"+filter_31+"</label></td><td><select id='distance_operator'val='greater_than'><option value='greater_than'>"+filter_24+"</option><option value='less_than'>"+filter_25+"</option><option value='equal_to'>"+filter_26+"</option></select>&nbsp;<input type='text'id='distance_value'size='2'maxlength='2'value=''></td></tr><tr><td><input type='checkbox' id='next_village_units' />"+filter_44+"</td><td><input type='checkbox' id='enable_continents' /><td colspan='3'><select id='continent_display'><option value='hide'>"+filter_32+"</option><option value='show'>"+filter_33+"</option></select>&nbsp;<label for='continents_list'>"+filter_34+"</label>&nbsp;<input type='text'size='2'maxlength='150'id='continents_list'value=''>&nbsp;<img src='graphic/questionmark.png'height='13'id='continent_help'></td></tr><tr><td><input type='checkbox' id='next_village_scouts' /><input type='text' size='2' id='scouts_left' /> "+filter_45+"</td><td><input type='checkbox'id='enable_scout'></td><td colspan='3'><label for='enable_scout'>"+filter_35+"</label>&nbsp;<select id='scout_report_operator'val='greater_than'><option value='greater_than'>"+filter_24+"</option><option value='less_than'>"+filter_25+"</option><option value='equal_to'>"+filter_26+"</option></select>&nbsp;<input type='text'id='haul_value'size='9'maxlength='7'value=''></td></tr><tr><td><input type='checkbox' id='next_village_farming_troops' /><input type='text' size='2' id='farming_troops_left' /> "+filter_46+"</td><td><input type='checkbox'id='enable_time'></td><td colspan='3'><select id='attack_time_filter'val='hide'><option value='hide'>"+filter_32+"</option><option value='show'>"+filter_33+"</option></select>&nbsp;<label for='enable_time'>"+filter_36+"</label>&nbsp;<input type='text'id='time_value'size='2'maxlength='4'value=''><span>"+filter_37+"</span></td></tr><tr><td><input type='checkbox'id='enable_auto_run'><label for='enable_autoRun'>"+filter_38+"</label></td><td><input type='checkbox' id='hide_recent_farms' /></td><td colspan='3'><select id='sent_time_filter'val='hide'><option value='hide'>"+filter_32+"</option><option value='show'>"+filter_33+"</option></select>&nbsp;"+filter_47+" <input type='text' size='2' id='hide_recent_time' /> "+filter_48+"</td></tr><tr><th>"+filter_49+"</th><th colspan='4'>"+filter_50+"</th></tr><tr><td rowspan='4'><table><tr class='hotkey_values'><td><a href='#'onclick='return setKeyEditMode(\"A\")'id='button_a'class='farm_icon farm_icon_a'></a></td><td><a href='#'onclick='return setKeyEditMode(\"B\")'id='button_b'class='farm_icon farm_icon_b'></a></td><td><a href='#'onclick='return setKeyEditMode(\"C\")'id='button_c'class='farm_icon farm_icon_c'></a></td><td><a href='#'onclick='return setKeyEditMode(\"Master\")'id='button_master'class='farm_icon farm_icon_m'></a></td></tr><tr class='hotkey_values'><td><input type='text'class='hotkey_value' READONLY id='hotkey_value_a'value='A'></td><td><input type='text'class='hotkey_value' READONLY id='hotkey_value_b'value='B'></td><td><input type='text'class='hotkey_value' READONLY id='hotkey_value_c'value='C'></td><td><input type='text'class='hotkey_value' READONLY id='hotkey_value_master'value='M'></td></tr><tr class='hotkey_values'><td colspan='2'><input class='btn tooltip'onclick='return setKeyEditMode(\"Skip\")'type='button'value='Skip'style='margin:0px 0px 0px 0px'title='"+filter_51+"'></td><td><input class='btn tooltip'onclick='return setKeyEditMode(\"Left\")'type='button'value='\xc3\xa2\xe2\u20ac\xa1\xc5\xa1'style='margin:0px 0px 0px 0px'title='"+filter_52+"'></td><td><input class='btn tooltip'type='button'onclick='return setKeyEditMode(\"Right\")'value='\xc3\xa2\xe2\u20ac\xa1\xe2\u20ac\xba'style='margin:0px 0px 0px 0px'title='"+filter_53+"'></td></tr><tr class='hotkey_values'><td colspan='2'><input type='text'class='hotkey_value' READONLY id='hotkey_value_skip'value='S'></td><td><input type='text'class='hotkey_value' READONLY id='hotkey_value_left'value='&#8592;'></td><td><input type='text'class='hotkey_value' READONLY id='hotkey_value_right'value='&#8594;'></td></tr></table></td><td><input type='checkbox' onchange='return updateKeypressSettings();' id='priorityOneEnabled'/></td><td colspan='3'>"+filter_54+" <select id='priorityOneProfile' onchange='return updateKeypressSettings();'></select> "+filter_55+" <select id='priorityOneButton' onchange='return updateKeypressSettings();'><option val='"+filter_56+"'>"+filter_56+"</option><option val='"+filter_57+"'>"+filter_57+"</option><option val='"+filter_58+"'>"+filter_58+"</option><option val='"+filter_59+"'>"+filter_59+"</option></select></td></tr><tr><td><input type='checkbox' onchange='return updateKeypressSettings();' id='priorityTwoEnabled'/></td><td colspan='3'>"+filter_54+" <select id='priorityTwoProfile' onchange='return updateKeypressSettings();'></select> "+filter_55+" <select id='priorityTwoButton' onchange='return updateKeypressSettings();'><option val='"+filter_56+"'>"+filter_56+"</option><option val='"+filter_57+"'>"+filter_57+"</option><option val='"+filter_58+"'>"+filter_58+"</option><option val='"+filter_59+"'>"+filter_59+"</option></select></td></tr><tr><td><input type='checkbox' onchange='return updateKeypressSettings();' id='priorityThreeEnabled'/></td><td colspan='3'>"+filter_54+" <select id='priorityThreeProfile' onchange='return updateKeypressSettings();'></select> "+filter_55+" <select id='priorityThreeButton' onchange='return updateKeypressSettings();'><option val='"+filter_56+"'>"+filter_56+"</option><option val='"+filter_57+"'>"+filter_57+"</option><option val='"+filter_58+"'>"+filter_58+"</option><option val='"+filter_59+"'>"+filter_59+"</option></select></td></tr><tr><td colspan='4'>"+filter_60+" <select id='defaultButton' onchange='return updateKeypressSettings();'><option val='"+filter_56+"'>"+filter_56+"</option><option val='"+filter_57+"'>"+filter_57+"</option><option val='"+filter_58+"'>"+filter_58+"</option><option val='"+filter_59+"'>"+filter_59+"</option></select></td></tr><tr><td colspan='5'><div style='float:left'><input type='submit'value='"+profile_02+"'onclick='applySettings()'>&nbsp;<input type='submit'value='"+profile_03+"'onclick='resetTable()'></div><div style='float:right'><img src='graphic/questionmark.png'width='13'height='13'id='profile_help'>&nbsp;<label for='settingsProfile'>"+profile_01+":</label>&nbsp;<select id='settingsProfile'onchange='changeProfile(window.top.$(&quot;#settingsProfile&quot;).val())'></select>&nbsp;<input type='submit'value='"+profile_04+"'onclick='createProfile()'>&nbsp;<input type='submit'value='"+profile_05+"'onclick='setDefaultProfile()'>&nbsp;<input type='submit'value='"+profile_06+"'onclick='deleteProfile()'>&nbsp;<input type='submit'value='"+profile_07+"'onclick='updateProfile()'>&nbsp;<input type='submit'value='"+profile_08+"'onclick='exportProfile()'>&nbsp;<input type='submit'value='"+profile_09+"'onclick='importProfile()'></div></td></tr></tbody></table></div>")),function(){W.top.$("#all_none").bind("click",function(){W.top.$(this).closest("form").find(":checkbox").prop("checked",this.checked)});var t=W.top.$("#report_help");t.attr("title",instructions_01),W.top.UI.ToolTip(t);var e=W.top.$("#enable_help");e.attr("title",instructions_02),W.top.UI.ToolTip(e);var o=W.top.$("#continent_help");o.attr("title",instructions_03),W.top.UI.ToolTip(o);var i=W.top.$("#recent_help");i.attr("title",instructions_04),W.top.UI.ToolTip(i);var a=W.top.$("#profile_help");a.attr("title",instructions_05),W.top.UI.ToolTip(a),F(),r=W.top.$.jStorage.get("profileList"),W.top.$.each(r,function(t,e){W.top.$("#settingsProfile").append("<option value='"+e+"'>"+e+"</option>")}),W.top.$("#settingsProfile").val(W.top.$.jStorage.get("DefaultProfile")),function(){var t=W.top.$.jStorage.get("profileList");W.top.$.each(t,function(t,e){W.top.$("#priorityOneProfile").append("<option value='"+e+"'>"+e+"</option>"),W.top.$("#priorityTwoProfile").append("<option value='"+e+"'>"+e+"</option>"),W.top.$("#priorityThreeProfile").append("<option value='"+e+"'>"+e+"</option>")})}(),function(){null==W.top.$.jStorage.get("keyPressSettings")&&W.top.$.jStorage.set("keyPressSettings",y);y=W.top.$.jStorage.get("keyPressSettings"),b.a=y.a_code,W.top.$("#hotkey_value_a").val(y.a_char),b.b=y.b_code,W.top.$("#hotkey_value_b").val(y.b_char),b.c=y.c_code,W.top.$("#hotkey_value_c").val(y.c_char),b.master=y.master_code,W.top.$("#hotkey_value_master").val(y.master_char),b.skip=y.skip_code,W.top.$("#hotkey_value_skip").val(y.skip_char),b.left=y.left_code,W.top.$("#hotkey_value_left").val(y.left_char),b.right=y.right_code,W.top.$("#hotkey_value_right").val(y.right_char),W.top.$("#priorityOneEnabled").prop("checked",y.priorityOneEnabled),W.top.$("#priorityOneProfile").val(y.priorityOneProfile),W.top.$("#priorityOneButton").val(y.priorityOneButton),W.top.$("#priorityTwoEnabled").prop("checked",y.priorityTwoEnabled),W.top.$("#priorityTwoProfile").val(y.priorityTwoProfile),W.top.$("#priorityTwoButton").val(y.priorityTwoButton),W.top.$("#priorityThreeEnabled").prop("checked",y.priorityThreeEnabled),W.top.$("#priorityThreeProfile").val(y.priorityThreeProfile),W.top.$("#priorityThreeButton").val(y.priorityThreeButton),W.top.$("#defaultButton").val(y.defaultButton)}();var r}(),W.top.$("#language").append("<option value='en'>English</option>"),W.top.$("#language").append("<option value='el'>\xc3\u017d\xe2\u20ac\xa2\xc3\u017d\xc2\xbb\xc3\u017d\xc2\xbb\xc3\u017d\xc2\xb7\xc3\u017d\xc2\xbd\xc3\u017d\xc2\xb9\xc3\u017d\xc2\xba\xc3\u017d\xc2\xac</option>"),W.top.$("#language").append("<option value='it'>Italiano</option>"),W.top.$("#language").append("<option value='es'>Espa\xc3\u0192\xc2\xb1ol</option>"),W.top.$("#language").append("<option value='ar'>\xc3\u02dc\xc2\xa7\xc3\u2122\xe2\u20ac\u017e\xc3\u2122\xe2\u20ac\u017e\xc3\u02dc\xc2\xba\xc3\u02dc\xc2\xa9 \xc3\u02dc\xc2\xa7\xc3\u2122\xe2\u20ac\u017e\xc3\u02dc\xc2\xb9\xc3\u02dc\xc2\xb1\xc3\u02dc\xc2\xa8\xc3\u2122\xc5 \xc3\u02dc\xc2\xa9</option>"),W.top.$("#language option[value='"+W.top.$.jStorage.get("language")+"']").attr("selected","selected")}function O(t){var e=t.find("a").attr("onclick");if(void 0!==e){var o=e.slice(e.indexOf("(")+1,e.indexOf(")")),i=o.split(",");-1==e.indexOf("FromReport")?t.find("a").attr("onclick","return customSendUnits("+o+", window.top.$(this))"):t.find("a").attr("onclick","return customSendUnitsFromReport("+o+"))"),t.closest("tr").attr("name",W.top.$.trim(i[1]))}}function C(){if((i=W.top.Accountmanager.farm.current_units,f[v.next_village_scouts])&&i.spy<=parseInt(f[v.scouts_left]))return P("n"),!0;if(f[v.next_village_farming_troops]){var t=0;if(W.top.$(".fm_unit input:checked").each(function(e){var o=W.top.$(this).attr("name");t+=parseInt(i[o])}),t<=parseInt(f[v.farming_troops_left]))return P("n"),!0}if(f[v.next_village_no_farms]&&0==W.top.$("#plunder_list tr:not(:first-child):visible").length)return P("n"),!0}function j(){l?B():(setTimeout(T(),1),W.top.$("#plunder_list tr:gt(0)").remove(),W.top.$("#plunder_list_nav").hide())}function B(){W.top.$("#am_widget_Farm tr:gt(0)").each(function(t){(s=q(W.top.$(this),f))&&W.top.$(this).hide()}),E(filter_40);var t=0;"fixed"==W.top.$("#topContainer").css("position")&&(t=W.top.$("#topContainer").height()),W.top.$('*:contains("Bot Protection")').length?(W.top.$("html, body").animate({scrollTop:W.top.$('*:contains("Bot Protection")').offset().top-t},500),"function"==typeof showNotification&&showNotification("custom",["LA Enhancer has encountered bot protection. Please respond to captcha to continue farming."],null,"Bot Protection"),p=!1):W.top.$("html, body").animate({scrollTop:W.top.$("#farm_units").offset().top-t},500),n=!0}function q(t,e){return s=!1,t.children("td").each(function(t){switch(t){case 2:!function(t,e){if(t.html().indexOf("blue")>=0&&e[v.blue])return d.push("Report is blue"),void(s=!0);if(t.html().indexOf("green")>=0&&e[v.green])return d.push("Report is green"),void(s=!0);if(t.html().indexOf("yellow")>=0&&e[v.yellow])return d.push("Report is yellow"),void(s=!0);if(t.html().indexOf("red_yellow")>=0&&e[v.red_yellow])return d.push("Report is red_yellow"),void(s=!0);if(t.html().indexOf("red_blue")>=0&&e[v.red_blue])return d.push("Report is red_blue"),void(s=!0);if(t.html().indexOf("red")>=0&&e[v.red])d.push("Report is red"),s=!0}(W.top.$(this),e);break;case 3:!function(t,e){if(e[v.enable_hauls]){if(t.html().indexOf("max_loot/1")>=0&&e[v.full])return d.push("Haul is full"),void(s=!0);if(t.html().indexOf("max_loot/0")>=0&&e[v.partial])return d.push("Haul is partial"),void(s=!0);if(-1==t.html().indexOf("max_loot")&&e[v.full])d.push("No haul graphic"),s=!0}}(W.top.$(this),e);break;case 4:!function(t,e){if(e[v.hide_recent_farms]){var o=t.closest("tr").attr("name");localTitle="sitter:"+h+", village:"+o+", world:"+Y()[0];var i=new Date(W.top.$.jStorage.get(localTitle)),a=u.getTime()-i.getTime(),r=Math.abs(parseInt(a/1e3/60));switch(e[v.sent_time_filter]){case"hide":if(r<parseInt(e[v.hide_recent_time]))return d.push("Village was recently sent to "+r+" minutes ago"),void(s=!0);break;case"show":if(r>parseInt(e[v.hide_recent_time]))d.push("Village was not recently sent to"),s=!0}}}(W.top.$(this),e),function(t,e){var o,i=t.find("img");o=void 0!==i.prop("tooltipText")?parseInt(i.prop("tooltipText").replace(/\D/g,"")):0;if(e[v.enable_attacks])switch(e[v.attack_operator]){case"greater_than":if(o>parseInt(e[v.attack_value]))return d.push("Outgoing attacks is too many"),void(s=!0);break;case"less_than":if(o<parseInt(e[v.attack_value]))return d.push("Outgoing attacks is too few"),void(s=!0);break;case"equal_to":if(o==parseInt(e[v.attack_value]))d.push("Outgoing attacks is equal"),s=!0}}(W.top.$(this),e),function(t,e){var o=t.find("a").html();if(void 0!==o){o=o.substr(o.length-2);var i=e[v.continents_list].split(".");if(W.top.$.inArray(o,i)>=0&&"hide"==e[v.continent_display])return d.push("Continent is set to hide"),void(s=!0);if(-1==W.top.$.inArray(o,i)&&"show"==e[v.continent_display])d.push("Continent is not set to show"),s=!0}}(W.top.$(this),e);break;case 5:!function(t,e){if(e[v.enable_time]){var o=u,i=function(t){for(var e,o,i=(h=t.html()).split(" "),a=0;a<i.length;a++)(t=W.top.$.trim(i[a])).indexOf(".")>-1?e=t:t==filter_61?e=filter_61:t==filter_62&&(e=filter_62),t.indexOf(":")>-1&&(o=t);if(e==filter_61||e==filter_62){var r=u.getDate();e==filter_62&&r--;var l=u.getMonth(),n=u.getFullYear(),p=(h=o.split(":"))[0],s=h[1],c=h[2];return new Date(n,l,r,p,s,c,0)}var d=e.split(".");r=d[0],l=d[1]-1;if(0==u.getMonth()&&11==l)n=u.getFullYear()-1;else n=u.getFullYear();var h;p=(h=o.split(":"))[0],s=h[1],c=h[2];return new Date(n,l,r,p,s,c,0)}(t),a=o.getTime()-i.getTime(),r=Math.abs(parseInt(a/1e3/60));switch(e[v.attack_time_filter]){case"hide":if(r<parseInt(e[v.time_value]))return d.push("Village attacked "+r+" minutes ago."),void(s=!0);break;case"show":if(r>parseInt(e[v.time_value]))d.push("Village attacked "+r+" minutes ago."),s=!0}}}(W.top.$(this),e);break;case 6:!function(t,e){var o;if(e[v.enable_scout]){if("?"==W.top.$.trim(t.find("span").html()))o=0;else o=parseInt(t.children("span").eq(0).html().replace(/\D+/g,""))+parseInt(t.children("span").eq(1).html().replace(/\D+/g,""))+parseInt(t.children("span").eq(2).html().replace(/\D+/g,""));switch(e[v.scout_report_operator]){case"greater_than":if(o>parseInt(e[v.haul_value]))return d.push("Too many resources"),void(s=!0);break;case"less_than":if(o<parseInt(e[v.haul_value]))return d.push("Not enough resources"),void(s=!0);break;case"equal_to":if(o==parseInt(e[v.haul_value]))d.push("Exact resources"),s=!0}}}(W.top.$(this),e);break;case 7:!function(t,e){if(e[v.enable_walls]){var o=parseInt(t.html());switch("?"==o&&(o=0),W.top.$.trim(e[v.wall_operator])){case"greater_than":if(o>parseInt(e[v.wall_value]))return d.push("Wall too high"),void(s=!0);break;case"less_than":if(o<parseInt(e[v.wall_value]))return d.push("Wall too low"),void(s=!0);break;case"equal_to":if(o==parseInt(e[v.wall_value]))d.push("Wall is exact"),s=!0}}}(W.top.$(this),e);break;case 8:!function(t,e){if(e[v.enable_distances]){var o=t.html();switch(W.top.$.trim(e[v.distance_operator])){case"greater_than":if(parseFloat(o)>parseFloat(e[v.distance_value]))return d.push("Village too far"),void(s=!0);break;case"less_than":if(parseFloat(o)<parseFloat(e[v.distance_value]))return d.push("Village too close"),void(s=!0);break;case"equal_to":if(parseFloat(o)==parseFloat(e[v.distance_value]))d.push("Village exact distance"),s=!0}}}(W.top.$(this),e)}}),!!s&&(d=[],!0)}function A(){W.top.$("#plunder_list tr").each(function(t){W.top.$(this).show()})}function D(){var t=W.top.$("#serverTime").html().split(":"),e=W.top.$("#serverDate").html().split("/");return new Date(e[2],e[1]-1,e[0],t[0],t[1],t[2],0)}function F(){null==W.top.$.jStorage.get("profile:"+profile_10)&&(W.top.$.jStorage.set("profile:"+profile_10,["1","1","distance","asc",!1,!1,!1,!1,!1,!1,!1,!1,"hide","",!1,!1,!1,!1,"greater_than","",!1,"greater_than","",!1,"greater_than","",!1,"greater_than","","hide","",!1,"hide","",!1,!1,!1,"",!1,"",!1]),W.top.$.jStorage.deleteKey("profileList"),W.top.$.jStorage.set("profileList",[profile_10])),f=W.top.$.jStorage.get("profile:"+profile_10),L(profile_10),W.top.$("#settingsProfile").val(profile_10)}function L(t){var e=W.top.$.jStorage.get("profile:"+t);f=e,W.top.$("#start_page").val(e[0]),W.top.$("#end_page").val(e[1]),W.top.$("#order_by").val(e[2]),W.top.$("#direction").val(e[3]),W.top.$("#all_none").prop("checked",e[4]),W.top.$("#blue").prop("checked",e[5]),W.top.$("#green").prop("checked",e[6]),W.top.$("#yellow").prop("checked",e[7]),W.top.$("#red_yellow").prop("checked",e[8]),W.top.$("#red_blue").prop("checked",e[9]),W.top.$("#red").prop("checked",e[10]),W.top.$("#hide_recent_farms").prop("checked",e[11]),W.top.$("#sent_time_filter").val(e[12]),W.top.$("#hide_recent_time").val(e[13]),W.top.$("#enable_hauls").prop("checked",e[14]),W.top.$("#full").prop("checked",e[15]),W.top.$("#partial").prop("checked",e[16]),W.top.$("#enable_attacks").prop("checked",e[17]),W.top.$("#attack_operator").val(e[18]),W.top.$("#attack_value").val(e[19]),W.top.$("#enable_walls").prop("checked",e[20]),W.top.$("#wall_operator").val(e[21]),W.top.$("#wall_value").val(e[22]),W.top.$("#enable_distances").prop("checked",e[23]),W.top.$("#distance_operator").val(e[24]),W.top.$("#distance_value").val(e[25]),W.top.$("#enable_scout").prop("checked",e[26]),W.top.$("#scout_report_operator").val(e[27]),W.top.$("#haul_value").val(e[28]),W.top.$("#continent_display").val(e[29]),W.top.$("#continents_list").val(e[30]),W.top.$("#enable_time").prop("checked",e[31]),W.top.$("#attack_time_filter").val(e[32]),W.top.$("#time_value").val(e[33]),W.top.$("#enable_auto_run").prop("checked",e[34]),W.top.$("#next_village_no_farms").prop("checked",e[35]),W.top.$("#next_village_scouts").prop("checked",e[36]),W.top.$("#scouts_left").val(e[37]),W.top.$("#next_village_farming_troops").prop("checked",e[38]),W.top.$("#farming_troops_left").val(e[39]),W.top.$("#next_village_units").prop("checked",e[40])}function M(t){L(t),A(),B()}W.top.$.getScript(a+"lib/jstorage.js",function(){W.top.$.getScript(a+"resources.js",function(){null==W.top.$.jStorage.get("language")&&function(){var t=Y();3==t.length&&t.shift();switch(t.join(".")){case"fyletikesmaxes.gr":W.top.$.jStorage.set("language","el");break;case"tribals.it":W.top.$.jStorage.set("language","it");break;case"guerrastribales.es":W.top.$.jStorage.set("language","es");break;case"tribalwars.ae":W.top.$.jStorage.set("language","ar");break;default:W.top.$.jStorage.set("language","en")}}(),W.top.$.getScript(a+"lang/"+W.top.$.jStorage.get("language")+".js",function(){console.log("init"),console.log("checkPage"),"am_farm"===W.top.game_data.screen?k():function(){console.log("getFA"),H(),V();var t=g[0]+W.top.game_data.village.id+g[1];W.top.$.getScript("https://"+W.top.location.host+"/js/game/Accountmanager.js",function(){W.top.$.ajax({type:"GET",url:t,dataType:"html",error:function(t,e,o){alert("Get LA error: "+o),W.top.$("#fader").remove(),W.top.$("#loaders").remove()},success:function(t){var e=W.top.$(t),o=/<\s*title\s*>([^<]+)<\/title\s*>/g.exec(t)[1],i=W.top.$.parseJSON(t.split("TribalWars.updateGameData(")[1].split(");")[0]);W.top.game_data=i,"undefined"!=typeof history&&"function"==typeof history.pushState&&history.pushState({},W.top.game_data.village.name+" - Loot Assistant","https://"+W.top.location.host+game_data.link_base_pure+"am_farm"),W.top.$("#header_info").html(W.top.$("#header_info",e).html()),W.top.$("#topContainer").html(W.top.$("#topContainer",e).html()),W.top.$("#contentContainer").html(W.top.$("#contentContainer",e).html()),W.top.$("head").find("title").html(o),W.top.$("#fader").remove(),W.top.$("#loaders").remove(),console.log("getFA"),k()}})})}()})}),W.top.$.getScript(a+"notify.js")});try{W.applySettings=j,W.top.applySettings=j,W.resetTable=A,W.top.resetTable=A,W.changeProfile=M,W.top.changeProfile=M,W.loadLanguage=U,W.top.loadLanguage=U,W.uglyHider=G,W.top.uglyHider=G,W.setKeyEditMode=N,W.top.setKeyEditMode=N,W.__YAVER_EXPORT_OK__=!0}catch(J){}function K(){W.onkeydown=function(t){if(c)!function(t){if(t.keyCode<=37&&t.keyCode>=40||t.keyCode<=48&&t.keyCode>=90)W.top.UI.ErrorMessage("You can only enter letters, numbers, or arrows. Plese try another key.",1500);else{var e=String.fromCharCode(t.keyCode);switch(37==t.keyCode&&(e="\xc3\xa2\xe2\u20ac \xc2\x90"),38==t.keyCode&&(e="\xc3\xa2\xe2\u20ac \xe2\u20ac\u02dc"),39==t.keyCode&&(e="\xc3\xa2\xe2\u20ac \xe2\u20ac\u2122"),40==t.keyCode&&(e="\xc3\xa2\xe2\u20ac \xe2\u20ac\u0153"),o){case"A":b.a=t.keyCode,W.top.$("#hotkey_value_a").val(e);break;case"B":b.b=t.keyCode,W.top.$("#hotkey_value_b").val(e);break;case"C":b.c=t.keyCode,W.top.$("#hotkey_value_c").val(e);break;case"Master":b.master=t.keyCode,W.top.$("#hotkey_value_master").val(e);break;case"Skip":b.skip=t.keyCode,W.top.$("#hotkey_value_skip").val(e);break;case"Left":b.left=t.keyCode,W.top.$("#hotkey_value_left").val(e);break;case"Right":b.right=t.keyCode,W.top.$("#hotkey_value_right").val(e);break;default:return}W.top.UI.SuccessMessage(e+" is now mapped to the "+o+" button."),y.a_code=b.a,y.a_char=W.top.$("#hotkey_value_a").val(),y.b_code=b.b,y.b_char=W.top.$("#hotkey_value_b").val(),y.c_code=b.c,y.c_char=W.top.$("#hotkey_value_c").val(),y.master_code=b.master,y.master_char=W.top.$("#hotkey_value_master").val(),y.skip_code=b.skip,y.skip_char=W.top.$("#hotkey_value_skip").val(),y.left_code=b.left,y.left_char=W.top.$("#hotkey_value_left").val(),y.right_code=b.right,y.right_char=W.top.$("#hotkey_value_right").val(),y.priorityOneEnabled=W.top.$("#priorityOneEnabled").prop("checked"),y.priorityOneProfile=W.top.$("#priorityOneProfile").val(),y.priorityOneButton=W.top.$("#priorityOneButton").val(),y.priorityTwoEnabled=W.top.$("#priorityTwoEnabled").prop("checked"),y.priorityTwoProfile=W.top.$("#priorityTwoProfile").val(),y.priorityTwoButton=W.top.$("#priorityTwoButton").val(),y.priorityThreeEnabled=W.top.$("#priorityThreeEnabled").prop("checked"),y.priorityThreeProfile=W.top.$("#priorityThreeProfile").val(),y.priorityThreeButton=W.top.$("#priorityThreeButton").val(),y.defaultButton=W.top.$("#defaultButton").val(),W.top.$.jStorage.set("keyPressSettings",y),c=!1}}(t);else{var e=W.top.$("#plunder_list tr").filter(":visible").eq(1),i=e.children("td").eq(9).children("a"),a=e.children("td").eq(10).children("a"),r=e.children("td").eq(11).children("a");switch(t.which){case b.a:R(i);break;case b.b:R(a);break;case b.c:R(r);break;case b.skip:e.hide();break;case b.master:p&&n&&function(t){var e,o=W.top.$.jStorage.get("profile:"+y.priorityOneProfile),i=W.top.$.jStorage.get("profile:"+y.priorityTwoProfile),a=W.top.$.jStorage.get("profile:"+y.priorityThreeProfile),r=t.children("td").eq(9).children("a"),l=t.children("td").eq(10).children("a"),n=t.children("td").eq(11).children("a");e=y.defaultButton,y.priorityThreeEnabled&&!q(t,a)&&(e=y.priorityThreeButton);y.priorityTwoEnabled&&!q(t,i)&&(e=y.priorityTwoButton);y.priorityOneEnabled&&!q(t,o)&&(e=y.priorityOneButton);switch(e){case"A":R(r);break;case"B":R(l);break;case"C":R(n);break;default:t.hide()}}(e);break;case b.left:P("p");break;case b.right:P("n");break;default:return}}t.preventDefault()}}function R(t){p&&n&&(C()||(console.log(t.html()),t.hasClass("farm_icon_disabled")||null==t.html()?(W.top.UI.ErrorMessage("That button is not selectable. Skipping row...",500),t.closest("tr").hide()):(t.click(),f[v.next_village_scouts]||f[v.next_village_farming_troops],z(200))))}function z(t){p=!1,setTimeout(function(){p=!0},t)}function N(t){return c=!0,o=t,W.top.UI.InfoMessage("Press any number, letter, or arrow key to set the hotkey for the <span style='font-weight:bold;'>"+t+"</span> button",1500),!1}function U(t){W.top.$.jStorage.set("language",t);var e=W.top.$.jStorage.get("profileList"),o=W.top.$.jStorage.get("profile:"+profile_10);W.top.$.inArray(t,m)<0&&(t="en");var i=a+"lang/"+t+".js";W.top.$.getScript(i,function(){W.top.$("#settingsDiv").remove(),e[0]=profile_10,W.top.$.jStorage.set("profileList",e),W.top.$.jStorage.set("profile:"+profile_10,o),E(filter_40),I()})}function Y(){var t=W.location.hostname;return t=t.split(".")}function H(){var t=W.top.document.createElement("div");t.id="fader",t.style.position="fixed",t.style.height="100%",t.style.width="100%",t.style.backgroundColor="black",t.style.top="0px",t.style.left="0px",t.style.opacity="0.6",t.style.zIndex="12000",W.top.document.body.appendChild(t)}function V(){var t=W.top.document.createElement("div");t.id="loaders",t.style.position="fixed",t.style.width="24px",t.style.height="24px",t.style.top="50%",t.style.left="50%",W.top.$(t).css("margin-left","-12px"),W.top.$(t).css("margin-top","-12px"),t.style.zIndex=13e3,W.top.$(t).append(W.top.$("<img src='graphic/throbber.gif' height='24' width='24'></img>")),W.top.$("#contentContainer").append(W.top.$(t))}function G(t){var e;e=W.top.$("#settingsBody").length>0?2:1,"+"===W.top.$(t).text()?W.top.$(t).text("-"):W.top.$(t).text("+"),0==parseInt(W.top.$(t).attr("num"))?W.top.$("#contentContainer").find('div[class="vis"]').eq(e).children().eq(1).toggle():1==parseInt(W.top.$(t).attr("num"))?W.top.$("#plunder_list_filters").toggle():2==parseInt(W.top.$(t).attr("num"))&&W.top.$("#settingsBody").toggle()}}}();